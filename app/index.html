<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Web saket ðŸ˜¢</title>
      <style>
            * {
    font-size: 1.5rem;
}

body {
    background-color: #333;
    color: #fff;
    padding: 1rem;
}

form {
    display: flex;
    justify-content: center;
    gap: 4px;
}

ul {
    display: flex;
    flex-flow: column;
    justify-content: left;
    list-style-type: none;
}

input,
button {
    border-radius: 10px;
    padding: 10px;
}
      </style>
</head>
<body>
      <form>
            <input type="text" placeholder="Your message">
            <button>Send</button>
      </form>

      <ul>

      </ul>


      <script defer>
            const socket = new WebSocket('ws:localhost:8080')
            const sendMessage = (e) => {
                  e.preventDefault()
                  const input = document.querySelector('input')
                  
                  if(input.value){
                        socket.send(input.value)
                        input.value = ""
                  }
                  input.focus()
            }

            document.querySelector('form')
            .addEventListener('submit', sendMessage)

            //listen for message
            socket.addEventListener("message", ({data }) => {
                  const li = document.createElement('li')
                  li.textContent = data
                  document.querySelector('ul').appendChild(li)
            })
      </script>
</body>
</html>